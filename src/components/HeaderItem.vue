<template>
  <header class="header">
    <div class="container">
      <div class="header__body">
        <div class="header__search">
          <button class="header__button">
            <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M17.9382 5.66933C16.512 2.24469 13.1704 0.0100374 9.46066 0.000128852C5.46246 -0.0209255 1.90737 2.54006 0.661047 6.3391C-0.585272 10.1381 0.761902 14.3074 3.99559 16.6588C7.22927 19.0103 11.6107 19.0068 14.8407 16.6501L17.7207 19.5301C18.0135 19.8226 18.4878 19.8226 18.7807 19.5301C19.0731 19.2373 19.0731 18.7629 18.7807 18.4701L15.9907 15.6801C18.5968 13.04 19.3644 9.09396 17.9382 5.66933ZM16.6011 12.1694C15.4037 15.0551 12.585 16.9345 9.4607 16.9305V16.8905C5.22041 16.8851 1.77816 13.4607 1.7507 9.22045C1.74665 6.09619 3.62609 3.2775 6.51176 2.08002C9.39743 0.88255 12.7204 1.54241 14.9296 3.7516C17.1387 5.96079 17.7986 9.28372 16.6011 12.1694Z"/>
            </svg>
          </button>
          <input type="text" class="header__input" >
        </div>
        <div class="header__logo">
          <router-link to="/" href="">
            <svg width="149" height="24" viewBox="0 0 149 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M3.24324 12V24H1.62162H0V12V0H1.62162H3.24324V12ZM25.0949 8.86832L32.1081 17.7366L32.2884 8.86832L32.4688 0H34.0722H35.6757V12C35.6757 23.3462 35.6089 24 34.4465 24C33.0674 24 15.5676 2.66789 15.5676 0.987243C15.5676 0.443027 16.1312 0 16.8246 0C17.6659 0 20.4058 2.93838 25.0949 8.86832ZM65.5135 1.2973C65.5135 2.53686 65.0808 2.59459 55.7838 2.59459C46.4867 2.59459 46.054 2.53686 46.054 1.2973C46.054 0.0577297 46.4867 0 55.7838 0C65.0808 0 65.5135 0.0577297 65.5135 1.2973ZM92.1081 1.2973C92.1081 2.50832 91.6754 2.59459 85.6216 2.59459H79.1351V5.18919C79.1351 7.52432 78.973 7.78378 77.5135 7.78378C75.9639 7.78378 75.8919 7.61059 75.8919 3.89189V0H84C91.6754 0 92.1081 0.0694054 92.1081 1.2973ZM116.693 0.939893C119.307 2.29168 120.649 4.70854 120.649 8.06335C120.649 10.5172 120.298 11.3345 118.453 13.1792L116.257 15.3749L118.777 19.3382C120.163 21.5183 121.297 23.459 121.297 23.651C121.297 23.843 120.592 24 119.731 24C118.47 24 117.457 22.8928 114.542 18.3243L110.92 12.6486L113.028 12.4359C116.015 12.1343 117.405 10.6398 117.405 7.73059C117.405 4.17795 115.178 2.59459 110.183 2.59459H106.378V7.10595C106.378 11.1548 106.561 11.8022 108.162 13.4303L109.946 15.2432L108.162 15.4482C106.422 15.6486 106.378 15.7563 106.378 19.8266C106.378 23.8456 106.319 24 104.757 24H103.135V12V0H109.005C112.862 0 115.498 0.322379 116.693 0.939893ZM148.541 1.2973C148.541 2.50832 148.108 2.59459 142.054 2.59459H135.568V5.18919C135.568 7.52432 135.405 7.78378 133.946 7.78378C132.396 7.78378 132.324 7.61059 132.324 3.89189V0H140.432C148.108 0 148.541 0.0694054 148.541 1.2973ZM57.7297 14.9189V24H56.1081H54.4865V14.9189V4.54054H56.1081H57.7297V14.9189ZM18.8108 17.315V24H17.1892H15.5676V15.1174V6.23416L17.1892 8.43243C18.672 10.4419 18.8108 11.2035 18.8108 17.315ZM90.1621 11.6757C90.1621 12.8711 89.7295 12.973 84.6486 12.973H79.1351V15.5676C79.1351 17.9027 78.973 18.8108 77.5135 18.8108C75.9639 18.8108 75.8919 17.989 75.8919 14.2703V10.3784H83.027C89.7295 10.3784 90.1621 10.4569 90.1621 11.6757ZM146.595 11.6757C146.595 12.8711 146.162 12.973 141.081 12.973H135.568V15.5676C135.568 17.9027 135.405 18.8108 133.946 18.8108C132.396 18.8108 132.324 17.989 132.324 14.2703V10.3784H139.459C146.162 10.3784 146.595 10.4569 146.595 11.6757ZM92.1081 22.7027C92.1081 23.9306 91.6754 24 84 24C76.3245 24 75.8919 23.9306 75.8919 22.7027C75.8919 21.4748 76.3245 21.4054 84 21.4054C91.6754 21.4054 92.1081 21.4748 92.1081 22.7027ZM148.541 22.7027C148.541 23.9306 148.108 24 140.432 24C132.757 24 132.324 23.9306 132.324 22.7027C132.324 21.4748 132.757 21.4054 140.432 21.4054C148.108 21.4054 148.541 21.4748 148.541 22.7027Z"/>
            </svg>
          </router-link>
        </div>
        <div class="header__menu menu">
          <button :class="`menu__burger ${toggle?'open':''}`" @click="toggling">
            <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 0.500071C0.585786 0.500071 0.25 0.847435 0.25 1.27593V14.7241C0.25 15.1526 0.585786 15.5 1 15.5C1.41421 15.5 1.75 15.1526 1.75 14.7241V1.27593C1.75272 1.06931 1.67457 0.870329 1.53333 0.724214C1.39208 0.578098 1.19973 0.497259 1 0.500071Z"/>
              <path d="M7 0.500071C6.58579 0.500071 6.25 0.847435 6.25 1.27593V14.7241C6.25 15.1526 6.58579 15.5 7 15.5C7.41421 15.5 7.75 15.1526 7.75 14.7241V1.27593C7.75272 1.06931 7.67457 0.870329 7.53333 0.724214C7.39208 0.578098 7.19973 0.497259 7 0.500071Z"/>
              <path d="M13 0.500071C12.5858 0.500071 12.25 0.847435 12.25 1.27593V14.7241C12.25 15.1526 12.5858 15.5 13 15.5C13.4142 15.5 13.75 15.1526 13.75 14.7241V1.27593C13.7527 1.06931 13.6746 0.870329 13.5333 0.724214C13.3921 0.578098 13.1997 0.497259 13 0.500071Z"/>
            </svg>
          </button>
        </div>
      </div>
      <menu-section :className="toggle" @changeClass="toggling"/>
    </div>
  </header>
</template>

<script>
import MenuSection from './lib/MenuSection.vue' 
export default{
  components: { MenuSection },
  data() {return {
    toggle:false,
    header:document.getElementsByClassName("header__body")
  }},
  methods: {
    toggling(){
      this.toggle = !this.toggle
      this.$emit("toggle",this.toggle)
      if(this.toggle){
        document.body.classList.add("open")
      }else{
        document.body.classList.remove("open")
      }
    },
    // changedClass(v){
    //   console.log(v);
    //   this.toggle = !this.toggle
    // }
  },
  //create function which will add class name "longer" to element with class name header__body when page start scrolling
  mounted() {
    window.addEventListener("scroll", () => {
      if (window.scrollY > 0) {
        this.header[0].classList.add("longer")
      }else {
        this.header[0].classList.remove("longer")
      }
    })
  }
}
</script>

<style lang="scss">
@import "@/style/components/header.scss";
</style>